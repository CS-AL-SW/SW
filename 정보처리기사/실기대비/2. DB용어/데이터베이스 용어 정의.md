# 데이터베이스 용어

## 릴레이션

- 릴레이션이란 관계형 데이터베이스에서 정보를 구분하여 저장하는 기본 단위이다.
- 릴레이션은 DB 테이블이다. 흔히 개발을 할 때 DB 설계를 하게 되는데 ERD(Entity Relationship Diagram)를 구성하게 된다.

### 릴레이션의 특징

- 한 릴레이션에는 똑같은 튜플(Tuple)이 포함될 수 없으므로, 릴레이션에 포함된 튜플들은 모두 상이하다.
- 한 릴레이션에 포함된 튜플 사이에는 순서가 없다.
- 튜플들의 삽입, 삭제 등의 작업으로 인해 릴레이션은 시간에 따라 변한다.
- 릴레이션 스키마를 구성하는 속성들 간의 순서는 중요하지 않다.
- 속성의 유일한 식별을 위해 속성의 명칭은 유일해야 하지만, 속성을 구성하는 값은 동일한 값이 있을 수 있다.
- 릴레이션을 구성하는 튜플을 유일하게 식별하기 위해 속성들의 부분집합 키(Key)로 설정한다.
- 속성의 값은 논리적으로 더 이상 쪼갤 수 없는 원자 값만을 저장한다.

## 속성(Attribute)

- 하나의 릴레이션은 현실세계의 어떤 개체(Entity)를 표현하고 저장하는데 사용된다. 이때 개체는 사물이 될 수도 있고 추상적인 개념이 될 수도 있다.
- 속성은 내가 저장하고 싶은 개체의 항목들이다. (ex. 고객명, 고객고유번호, 전화번호 집 주소 등)
- 하나의 열은 하나의 속성 정보를 표시한다.
- 속성 또한 고유한 이름을 가지고 있어 동일한 릴레이션 내에서는 같은 이름의 속성이 존재할 수 없다.

|     속성1     | 속성2 | 속성3 | 속성4 |
| :-----------: | :---: | :---: | :---: |
| 튜플1(레코드) |   -   |   -   |   -   |
| 튜플2(레코드) |   -   |   -   |   -   |
| 튜플3(레코드) |   -   |   -   |   -   |
| 튜플4(레코드) |   -   |   -   |   -   |
| 튜플5(레코드) |   -   |   -   |   -   |

## 차수(Degree)

- 한 릴레이션 안에 있는 애트리뷰트(속성) 수를 차수라고 한다.
- 즉, 유효한 릴레이션의 최소 차수는 1이다.
- 모든 릴레이션은 적어도 하나 이상의 애트리뷰트를 갖고 있고 위의 테이블(릴레이션)에서 차수는 4임을 알 수 있다.

## 튜플(Tuple, 레코드)

- 릴레이션의 각 행을 레코드라고 한다.
- 공식적으로 튜플이라고 부른다.

## 카디날리티(Cardinality)

- 릴레이션 튜플의 개수이다.
- 아직 데이터가 삽입되지 않은 테이블의 경우 카디날리티는 차수와 다르게 0의 값을 가질 수 있다.
- 카디날리티는 시간이 지남에 따라 값이 계속해서 변화한다.

## 도메인(Domain)

- 릴레이션에 포함된 속성들이 각각 가질 수 있는 값들의 집합이다.
- 관계형 이론에서 도메인은 실제로는 구현이 어렵기 때문에 대부분의 DBMS에서 도메인이란 속성에 대응하는 컬럼에 대한 데이터 타입(Data Type)과 길이를 의미한다.
- "두 속성의 도메인이 같다"라는 것은 두 속성의 데이터 타입과 길이가 같다는 것을 의미한다.
- 정의된 도메인명은 일반적인 데이터 타입처럼 사용할 수 있다.

## 스키마(Schema)

- 데이터베이스의 구조와 제약 조건에 관한 전반적인 명세를 기술한 메타데이터의 집합이다.
- 데이터베이스를 구성하는 데이터 개체(Entity), 속성(Attribute), 관계(Relationship) 및 데이터 조작 시 데이터 값들이 갖는 제약 조건 등에 관해 전반적으로 정의한다.
- 사용자의 관점에 따라 외부 스키마, 개념 스키마, 내부 스키마로 나눠진다.

**외부 스키마**

| 학적과 |      |      |          |      |
| :----: | :--: | :--: | :------: | :--: |
|  학번  | 이름 | 학과 | 수강과목 | 성적 |
| 학생과 |      |      |          |      |
|  학번  | 이름 | 학과 |   성별   | 주소 |

**개념 스키마**

|          | 학생 DB |               |
| :------- | :-----: | ------------: |
| 학번     |         |    integer(8) |
| 이름     |         | character(10) |
| 학과     |         | character(11) |
| 성별     |         |  character(2) |
| 주소     |         | character(25) |
| 수강과목 |         | character(14) |
| 성적     |         |    integer(3) |

**내부 스키마**

|                                 |          |     |                 |                       |
| :------------------------------ | :------: | :-: | :-------------: | :-------------------: |
| STORED - STUDENT(학생개체 명세) |          |     | LENGTH=73(크기) |                       |
| 학번(저장필드 ↓)                | BYTE(8)  |     |    OFFSET=0     | INDEX=STX(인덱스정보) |
| 이름                            | BYTE(10) |     |    OFFSET=8     |                       |
| 학과                            | BYTE(11) |     |    OFFSET=18    |                       |
| 성별                            | BYTE(2)  |     |    OFFSET=29    |                       |
| 주소                            | BYTE(25) |     |    OFFSET=31    |                       |
| 수강 과목                       | BYTE(14) |     |    OFFSET=56    |                       |
| 성적                            | BYTE(3)  |     |    OFFSET=70    |                       |

## 논리모델 vs 물리모델

| 논리모델           | 물리모델       |
| ------------------ | -------------- |
| 엔티티(Entity)     | 테이블(Table)  |
| 속성(Attribute)    | 컬럼(Column)   |
| 관계(Relation)     | 관계(Relation) |
| 키 그룹(Key Group) | 인덱스(Index)  |

## 요약

- 릴레이션(Relation) == 관계 == 테이블
- 속성(Attribute) == 컬럼명
- 차수(Degree) == 속성 수
- 튜플(Tuple) == 레코드 == 릴레이션의 각 행
- 카디날리티(Cardinality) == 튜플의 개수
- 스키마(Schema) : 데이터베이스를 구성하는 데이터 개체(Entity), 속성(Attribute), 관계(Relationship) 및 데이터 조작 시 데이터 값들이 갖는 제약 조건 등에 관해 전반적으로 정의하며, 사용자의 관점에 따라 외부 스키마, 개념 스키마, 내부 스키마로 나눠진다.
